<!-- templates/recipe.html -->
{% extends "base.html" %}

{% block title %}{{ recipe.title }} — ТехРецепты{% endblock %}

{% block content %}
<h1>{{ recipe.title }}</h1>

<!-- Кнопка редактирования -->
{% if current_user.is_authenticated and current_user.is_admin %}
    <div style="margin: 1.5rem 0;">
        <a href="/recipe/{{ recipe.slug }}/edit"
           style="background: #1976d2; color: white; padding: 0.4rem 0.8rem; border-radius: 4px; text-decoration: none; font-size: 0.9rem;">
           ✏️ Редактировать рецепт
        </a>
    </div>
{% endif %}



<h2>Ингредиенты</h2>
<table>
    <thead>
        <tr>
            <th>Компонент</th>
            <th>Количество</th>
            <!-- УДАЛЕНО: <th>Фаза</th> -->
        </tr>
    </thead>
    <tbody>
        {% for ing in ingredients %}
        <tr>
            <td>{{ ing.name }}</td>
            <td>{{ "%.1f"|format(ing.amount) }} {{ ing.unit }}</td>

        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Процедура</h2>
<ol>
{% for step in steps %}
    <li>
        {{ step.instruction }}
        {% if step.duration_min %} [<strong>{{ step.duration_min }} мин</strong>]{% endif %}

    </li>
{% endfor %}
</ol>

<p><a href="/">← Назад к списку рецептов</a></p>
{% endblock %}